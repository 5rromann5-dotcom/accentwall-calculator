/* =====================================================================
   PRICING CONFIG
   –ï–î–ò–ù–´–ô –ò–°–¢–û–ß–ù–ò–ö –¶–ï–ù –ò –î–û–ü–õ–ê–¢ –î–õ–Ø ACCENT WALL CALCULATOR

   ‚ö†Ô∏è –í–°–ï –¶–ï–ù–´, –ö–û–≠–§–§–ò–¶–ò–ï–ù–¢–´ –ò –î–û–ü–õ–ê–¢–´ –ú–ï–ù–Ø–Æ–¢–°–Ø –¢–û–õ–¨–ö–û –ó–î–ï–°–¨
   ‚ö†Ô∏è –°–¢–†–ê–ù–ò–¶–´ –ù–ï –î–û–õ–ñ–ù–´ –°–û–î–ï–†–ñ–ê–¢–¨ "–ú–ê–ì–ò–ß–ï–°–ö–ò–• –ß–ò–°–ï–õ"

   –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
   - STEP 2      : –±–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ –¥–∏–∑–∞–π–Ω–∞
   - STEP 2 VAR  : –≤–∞—Ä–∏–∞–Ω—Ç—ã –¥–∏–∑–∞–π–Ω–∞ (–∏–∑–º–µ–Ω–µ–Ω–∏–µ $/sq ft)
   - STEP 3      : –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç–µ–Ω—ã
   - STEP 4      : —Ñ–∏–Ω–∏—à
   - STEP 4.1    : —Ü–≤–µ—Ç–∞
   ===================================================================== */


/* =====================================================================
   STEP 2 ‚Äî –ë–ê–ó–û–í–´–ï –°–¢–ê–í–ö–ò –î–ò–ó–ê–ô–ù–û–í ($ / sq ft)
   –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–∞—Å—á—ë—Ç–µ —Ü–µ–Ω—ã —Å—Ç–µ–Ω—ã
   ===================================================================== */
const DESIGN_BASE_RATE = {
    board_batten: 14,
    modern_geometric: 16,
    slat_shiplap: 12,
    herringbone: 28,
    custom: null          // custom —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é
};


/* =====================================================================
   STEP 2 ‚Äî –ú–ò–ù–ò–ú–ê–õ–¨–ù–ê–Ø –°–¢–û–ò–ú–û–°–¢–¨ –ü–†–û–ï–ö–¢–ê –ü–û –î–ò–ó–ê–ô–ù–£ ($)
   –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏—Ö –∏ —É–±—ã—Ç–æ—á–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
   ===================================================================== */
const DESIGN_MIN_PRICE = {
    board_batten: 920,
    modern_geometric: 1230,
    slat_shiplap: 910,
    herringbone: 1562,
    custom: 1500
};


/* =====================================================================
   STEP 2 ‚Äî –ö–û–≠–§–§–ò–¶–ò–ï–ù–¢ –í–´–°–û–¢–´
   –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¢–û–õ–¨–ö–û –∫ –±–∞–∑–æ–≤–æ–π —Ü–µ–Ω–µ –¥–∏–∑–∞–π–Ω–∞
   ===================================================================== */
const HEIGHT_COEF = {
    0: 1.00,   // –¥–æ 10 ft
    1: 1.25,   // 10‚Äì16 ft
    2: 1.50    // –≤—ã—à–µ 16 ft
};


/* =====================================================================
   STEP 2 ‚Äî ZIP / –õ–û–ö–ê–¶–ò–Ø
   –î–æ–ø–ª–∞—Ç–∞ –∑–∞ –ª–æ–≥–∏—Å—Ç–∏–∫—É (–ù–ï —É–º–Ω–æ–∂–∞–µ—Ç—Å—è –Ω–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã)
   ===================================================================== */
const ZIP_POLICY = {
    0: { rate: 0, min: 0 },       // Austin + —Ä—è–¥–æ–º
    1: { rate: 1, min: 75 },      // ~100 miles
    2: { rate: 2, min: 150 }      // ~300 miles
};


/* =====================================================================
   STEP 2 VARIANT ‚Äî –í–ê–†–ò–ê–ù–¢–´ –î–ò–ó–ê–ô–ù–ê
   –ò–∑–º–µ–Ω—è—é—Ç –°–¢–ê–í–ö–£ $/sq ft (–ù–ï –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç)
   –ü–µ—Ä–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç = –±–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ (offset = 0)
   ===================================================================== */
const DESIGN_VARIANT_RATE_OFFSET = {
    board_batten:      [0, 1.5, 3.5],
    modern_geometric: [0, 0.5, 0, 0.5, 3, 3.5, 5, 6],
    slat_shiplap:      [0, 0.5, 1],
    herringbone:       [0, 1, 2]
};


/* =====================================================================
   STEP 3 ‚Äî –ü–û–î–ì–û–¢–û–í–ö–ê –°–¢–ï–ù–´ ($ / sq ft)
   –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω–µ
   ===================================================================== */
const WALL_PREPARATION_RATE = {
    keep_texture: 0,     // Keep Existing Wall Texture
    smooth_wall: 2.5    // Smooth Wall Preparation
};


/* =====================================================================
   STEP 4 ‚Äî –§–ò–ù–ò–® ($ / sq ft)
   –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω–µ
   ===================================================================== */
const FINISH_RATE = {
    one_color: 0,
    multi_color: 1,
    partial_color: 0.5,
    solid_wood_paint: 2.5,
    solid_wood_no_paint: 4
};


/* =====================================================================
   STEP 4.1 ‚Äî –¶–í–ï–¢–ê (–§–ò–ö–°–ò–†–û–í–ê–ù–ù–´–ï –î–û–ü–õ–ê–¢–´)
   –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω–µ
   ===================================================================== */
const COLOR_SURCHARGE = {
    standard_color: 0,
    customer_custom_color: 50
};


/* =====================================================================
   –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò (–æ–±—â–∏–µ)
   ===================================================================== */

/**
 * –î–æ–±–∞–≤–ª—è–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å, –∑–∞–≤–∏—Å—è—â—É—é –æ—Ç –ø–ª–æ—â–∞–¥–∏
 * @param {number} currentPrice ‚Äî —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞
 * @param {number} area ‚Äî –ø–ª–æ—â–∞–¥—å —Å—Ç–µ–Ω—ã (sq ft)
 * @param {number} rate ‚Äî —Å—Ç–∞–≤–∫–∞ ($ / sq ft)
 */
function addAreaCost(currentPrice, area, rate) {
    return currentPrice + area * rate;
}

/**
 * –î–æ–±–∞–≤–ª—è–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–æ–ø–ª–∞—Ç—É
 * @param {number} currentPrice ‚Äî —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞
 * @param {number} amount ‚Äî —Å—É–º–º–∞ –¥–æ–ø–ª–∞—Ç—ã ($)
 */
function addFixedCost(currentPrice, amount) {
    return currentPrice + amount;
}

/**
 * –ü—Ä–∏–º–µ–Ω—è–µ—Ç ZIP-–¥–æ–ø–ª–∞—Ç—É
 * @param {number} area ‚Äî –ø–ª–æ—â–∞–¥—å —Å—Ç–µ–Ω—ã
 * @param {number} zoneLevel ‚Äî —É—Ä–æ–≤–µ–Ω—å –∑–æ–Ω—ã (0,1,2)
 */
function calculateZipSurcharge(area, zoneLevel) {

    // üîí –ó–∞—â–∏—Ç–∞ –æ—Ç undefined / NaN
    if (zoneLevel === undefined || zoneLevel === null || isNaN(zoneLevel)) {
        zoneLevel = 0; // —Å—á–∏—Ç–∞–µ–º –∫–∞–∫ local (Austin)
    }

    const policy = ZIP_POLICY[zoneLevel] || ZIP_POLICY[0];

    const raw = area * policy.rate;
    return Math.max(raw, policy.min);
}

